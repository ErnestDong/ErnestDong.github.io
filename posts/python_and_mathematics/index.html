<!DOCTYPE html>
<html lang="">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="/js/cactus.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> python and mathematics | Ernest Dong</title>
  <link rel = 'canonical' href = 'https://ernestdong.github.io/posts/python_and_mathematics/'>
  <meta name="description" content="A Sisyphus Rolling Up Rock">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="python and mathematics" />
<meta property="og:description" content="Get Start Concentrate on python and math 1 (pyvenv-activate &#34;~/Code/thesis/.venv/&#34;) 1 2 3 4 5 6 import pandas as pd import numpy as np import matplotlib.pyplot as plt import seaborn as sns import statsmodels.api as sm import statsmodels.formula.api as smf numpy numpy 是底层为 C 的向量计算库，是 python 科学计算的基石，快速、贴近底" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ernestdong.github.io/posts/python_and_mathematics/" /><meta property="article:section" content="posts" />

<meta property="article:modified_time" content="2022-01-29T12:28:11+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="python and mathematics"/>
<meta name="twitter:description" content="Get Start Concentrate on python and math 1 (pyvenv-activate &#34;~/Code/thesis/.venv/&#34;) 1 2 3 4 5 6 import pandas as pd import numpy as np import matplotlib.pyplot as plt import seaborn as sns import statsmodels.api as sm import statsmodels.formula.api as smf numpy numpy 是底层为 C 的向量计算库，是 python 科学计算的基石，快速、贴近底"/>

  
  
  
  <link rel="stylesheet" href="https://ernestdong.github.io/css/styles.f7b0b81ffd948bc2b51bc47986281e591e9b39c46e6a18845e310537e786f77866b48fb756426e711bfa065a4ec7260ede6260c54bd2ed0827d693b01d7af483.css" integrity="sha512-97C4H/2Ui8K1G8R5higeWR6bOcRuahiEXjEFN&#43;eG93hmtI&#43;3VkJucRv6BlpOxyYO3mJgxUvS7Qgn1pOwHXr0gw=="> 

  
   <link rel="stylesheet" href="https://ernestdong.github.io/css/custom.css"> 
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://ernestdong.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
        <li><a href="/">Home</a></li>
        
        <li><a href="/notes">Notes</a></li>
        
        <li><a href="/posts">Posts</a></li>
        
        <li><a href="/tags">Tags</a></li>
        
        <li><a href="/readme/index.html">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://ernestdong.github.io/notes/thesis/nagel2020banks/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://ernestdong.github.io/notes/thesis_archive/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#get-start">Get Start</a></li>
    <li><a href="#numpy">numpy</a>
      <ul>
        <li><a href="#numpy-基础数据类型">numpy 基础数据类型</a></li>
        <li><a href="#索引与变形">索引与变形</a></li>
        <li><a href="#运算">运算</a></li>
      </ul>
    </li>
    <li><a href="#pandas">pandas</a>
      <ul>
        <li><a href="#对象">对象</a></li>
        <li><a href="#其他">其他</a></li>
      </ul>
    </li>
    <li><a href="#stats-models">stats-models</a>
      <ul>
        <li><a href="#回归">回归</a></li>
        <li><a href="#formula">formula</a></li>
        <li><a href="#其他">其他</a></li>
      </ul>
    </li>
    <li><a href="#matplotlib">matplotlib</a>
      <ul>
        <li><a href="#中文">中文</a></li>
        <li><a href="#example">example</a></li>
      </ul>
    </li>
    <li><a href="#seaborn">seaborn</a>
      <ul>
        <li><a href="#matplotlib-use-seaborn-style">matplotlib use seaborn style</a></li>
        <li><a href="#relplot"><code>relplot</code></a></li>
        <li><a href="#cheatsheet">cheatsheet</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&text=python%20and%20mathematics" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&is_video=false&description=python%20and%20mathematics" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=python%20and%20mathematics&body=Check out this article: https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&name=python%20and%20mathematics&description=Get%20Start%20Concentrate%20on%20python%20and%20math%201%20%28pyvenv-activate%20%26%2334%3b~%2fCode%2fthesis%2f.venv%2f%26%2334%3b%29%201%202%203%204%205%206%20import%20pandas%20as%20pd%20import%20numpy%20as%20np%20import%20matplotlib.pyplot%20as%20plt%20import%20seaborn%20as%20sns%20import%20statsmodels.api%20as%20sm%20import%20statsmodels.formula.api%20as%20smf%20numpy%20numpy%20%e6%98%af%e5%ba%95%e5%b1%82%e4%b8%ba%20C%20%e7%9a%84%e5%90%91%e9%87%8f%e8%ae%a1%e7%ae%97%e5%ba%93%ef%bc%8c%e6%98%af%20python%20%e7%a7%91%e5%ad%a6%e8%ae%a1%e7%ae%97%e7%9a%84%e5%9f%ba%e7%9f%b3%ef%bc%8c%e5%bf%ab%e9%80%9f%e3%80%81%e8%b4%b4%e8%bf%91%e5%ba%95" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&t=python%20and%20mathematics" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        python and mathematics
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-01-29 12:28:11 &#43;0800 &#43;0800" itemprop="datePublished">2022-01-29</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          9 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/python" rel="tag">python</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h2 id="get-start">Get Start</h2>
<p>Concentrate on <a href="/tags/python/">python</a> and math</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#8be9fd;font-style:italic">pyvenv-activate</span> <span style="color:#f1fa8c">&#34;~/Code/thesis/.venv/&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ff79c6">import</span> pandas <span style="color:#ff79c6">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> numpy <span style="color:#ff79c6">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> matplotlib.pyplot <span style="color:#ff79c6">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> seaborn <span style="color:#ff79c6">as</span> sns
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> statsmodels.api <span style="color:#ff79c6">as</span> sm
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> statsmodels.formula.api <span style="color:#ff79c6">as</span> smf
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="numpy">numpy</h2>
<p>numpy 是底层为 C 的向量计算库，是 python 科学计算的基石，快速、贴近底层。</p>
<p>中文文档：<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a>
英文文档：<a href="https://numpy.org/doc/stable/user/index.html">https://numpy.org/doc/stable/user/index.html</a></p>
<p>非常的底层，数值计算的基础</p>
<h3 id="numpy-基础数据类型">numpy 基础数据类型</h3>
<p>NumPy 包的核心是 ndarray 对象，是一种容器，类似于 python 的 list 和 C++ 的 array 。
它封装了 python 原生的同数据类型的 n 维数组，为了保证其性能优良，其中有许多操作都是代码在本地进行编译后执行的。</p>
<p>ndarray 有固定的大小、容器中是相同的数据类型（可以通过 dtype 访问）。
ndarray 通过 <strong>矢量化</strong> 加速程序运行</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>arr <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>array([<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>,np<span style="color:#ff79c6">.</span>nan])
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(arr<span style="color:#ff79c6">.</span>astype(<span style="color:#8be9fd;font-style:italic">float</span>))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(arr<span style="color:#ff79c6">.</span>dtype)
</span></span></code></pre></td></tr></table>
</div>
</div><p>请注意 numpy 的整数有可能溢出</p>
<h4 id="数组的创建">数组的创建</h4>
<!--list-separator-->
<ul>
<li>
<p>从其他 Python 结构（例如，列表，元组）转换</p>
<p><code>np.array(list_like)</code></p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>numpy 原生数组的创建</p>
<p>numpy 提供了部分函数，可以创建特定的数组</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>shape <span style="color:#ff79c6">=</span> (<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>ones(shape))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>zeros(shape))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>random<span style="color:#ff79c6">.</span>random(shape))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>arange(<span style="color:#bd93f9">0</span>, <span style="color:#bd93f9">6</span>, <span style="color:#bd93f9">2</span>)) <span style="color:#6272a4"># 从0到6，每隔2个</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>linspace(<span style="color:#bd93f9">1.</span>, <span style="color:#bd93f9">4.</span>, <span style="color:#bd93f9">6</span>)) <span style="color:#6272a4"># 从1到4，一共6个</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="索引与变形">索引与变形</h3>
<p>shape 属性储存了 numpy 数组的“形状”，并且是可以修改的</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>arange(<span style="color:#bd93f9">10</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#ff79c6">.</span>shape <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">5</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x[<span style="color:#bd93f9">0</span>])
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x[<span style="color:#bd93f9">0</span>:<span style="color:#bd93f9">2</span>])
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="运算">运算</h3>
<h4 id="算术运算符">算术运算符</h4>
<p>数组上的算术运算符会应用到 <strong>元素</strong> 级别。下面是创建一个新数组并填充结果的示例：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>array( [<span style="color:#bd93f9">20</span>,<span style="color:#bd93f9">30</span>,<span style="color:#bd93f9">40</span>,<span style="color:#bd93f9">50</span>] )
</span></span><span style="display:flex;"><span>b <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>arange( <span style="color:#bd93f9">4</span> )
</span></span><span style="display:flex;"><span>c <span style="color:#ff79c6">=</span> a<span style="color:#ff79c6">-</span>b
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(c)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(c<span style="color:#ff79c6">**</span><span style="color:#bd93f9">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(<span style="color:#bd93f9">10</span><span style="color:#ff79c6">*</span>np<span style="color:#ff79c6">.</span>sin(a))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(a<span style="color:#ff79c6">&lt;</span><span style="color:#bd93f9">35</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>对于矩阵，乘法使用@</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>array([[<span style="color:#bd93f9">0</span>, <span style="color:#bd93f9">1</span>], [<span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">3</span>]])
</span></span><span style="display:flex;"><span>B <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>array([[<span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>], [<span style="color:#bd93f9">6</span>, <span style="color:#bd93f9">7</span>]])
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(A<span style="color:#ff79c6">*</span>B)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(A@B)
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="一些方法">一些方法</h4>
<p>axis 参数可以指定操作的方向，沿着第几维</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>array([[<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">1</span>], [<span style="color:#bd93f9">5</span>, <span style="color:#bd93f9">9</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">6</span>]])
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>min())
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>max())
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>mean(axis<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span>))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>sum())
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>argmax())
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(x<span style="color:#ff79c6">.</span>cumsum(axis<span style="color:#ff79c6">=</span><span style="color:#bd93f9">1</span>))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(np<span style="color:#ff79c6">.</span>fromfunction(<span style="color:#ff79c6">lambda</span> i, j: i <span style="color:#ff79c6">==</span> j, (<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">3</span>), dtype<span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">int</span>))
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># The resulting array has a value fn(x, y, z) at coordinate (x, y, z).</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="广播">广播</h4>
<p>广播允许通用功能以有意义的方式处理不具有完全相同形状的输入。</p>
<p>广播的第一个规则是，如果所有输入数组不具有相同数量的维度，则将“1”重复地预先添加到较小数组的形状，直到所有数组具有相同数量的维度。</p>
<p>广播的第二个规则确保沿特定维度的大小为1的数组表现为具有沿该维度具有最大形状的数组的大小。假定数组元素的值沿着“广播”数组的那个维度是相同的。</p>
<h2 id="pandas">pandas</h2>
<p>pandas 封装了 numpy 的一些操作，使得 python 可以像操作 excel （其实是基于 R 的语法）一样操作数据（称为 <a href="#dataframe"><code>DataFrame</code></a>）</p>
<p>中文文档：<a href="https://www.pypandas.cn/docs/getting%5Fstarted/10min.html">https://www.pypandas.cn/docs/getting%5Fstarted/10min.html</a>
英文文档：<a href="https://pandas.pydata.org/docs/">https://pandas.pydata.org/docs/</a></p>
<h3 id="对象">对象</h3>
<h4 id="series"><code>Series</code></h4>
<p>可以理解成一列 excel 数据</p>
<h4 id="dataframe"><code>DataFrame</code></h4>
<p>可以理解成一张 excel 表，可以用切片/属性的方式访问某一列</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dates <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>date_range(<span style="color:#f1fa8c">&#39;20130101&#39;</span>, periods<span style="color:#ff79c6">=</span><span style="color:#bd93f9">6</span>)
</span></span><span style="display:flex;"><span>df <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>DataFrame(np<span style="color:#ff79c6">.</span>random<span style="color:#ff79c6">.</span>randn(<span style="color:#bd93f9">6</span>, <span style="color:#bd93f9">4</span>), index<span style="color:#ff79c6">=</span>dates, columns<span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">list</span>(<span style="color:#f1fa8c">&#39;ABCD&#39;</span>))
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df<span style="color:#ff79c6">.</span>columns)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(<span style="color:#f1fa8c">&#34;===&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(<span style="color:#f1fa8c">&#34;===&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df<span style="color:#ff79c6">.</span>T)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(<span style="color:#f1fa8c">&#34;===&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df<span style="color:#ff79c6">.</span>A)
</span></span></code></pre></td></tr></table>
</div>
</div><!--list-separator-->
<ul>
<li>
<p>dataframe 的导入导出</p>
<p>导入可以用 <code>pd.read_*</code> ，而导出可以用 <code>pd.to_*</code> ，如 csv, excel</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>查看数据</p>
<p>df 有属性 <code>head(n)</code>, <code>tail(n)</code> 可以查看头/尾 n 条数据</p>
<p><code>describe()</code> 可以快速查看数据的统计摘要：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>desc <span style="color:#ff79c6">=</span> df<span style="color:#ff79c6">.</span>describe()
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(desc)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(desc[<span style="color:#f1fa8c">&#39;A&#39;</span>])
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>切片</p>
<p>一个 [] 切出来是一个 Series，两个[[]] 则是 dataframe</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#f1fa8c">&#34;A&#34;</span>] <span style="color:#6272a4"># return the column A as Series</span>
</span></span><span style="display:flex;"><span>df[[<span style="color:#f1fa8c">&#34;A&#34;</span>, <span style="color:#f1fa8c">&#34;B&#34;</span>]] <span style="color:#6272a4"># return column AB as a new df</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>排序</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df<span style="color:#ff79c6">.</span>sort_values(by <span style="color:#ff79c6">=</span> [<span style="color:#f1fa8c">&#39;A&#39;</span>, <span style="color:#f1fa8c">&#39;B&#39;</span>], ascending<span style="color:#ff79c6">=</span><span style="color:#ff79c6">False</span>))
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>筛选</p>
<p>向量化操作会更快，条件中间用&amp;</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df[df[<span style="color:#f1fa8c">&#34;A&#34;</span>]<span style="color:#ff79c6">&lt;</span><span style="color:#bd93f9">0</span>])
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>运算</p>
<p>运算基本类似 numpy ，但是没有广播机制，必须对齐</p>
<p>特别的，有 <code>apply</code> 函数很常用</p>
<p><code>df.apply(lambda x: x.max() - x.min())</code></p>
<p><code>apply</code> 的含义是，对每一个 Series ，应用这个函数，并返回结果</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>合并</p>
<p>两个 dataframe 合并，操作中 how 必须是 One of &rsquo;left&rsquo;, &lsquo;right&rsquo;, &lsquo;outer&rsquo;, &lsquo;inner&rsquo;. Defaults to inner.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>DataFrame({<span style="color:#f1fa8c">&#39;key&#39;</span>: [<span style="color:#f1fa8c">&#39;foo&#39;</span>, <span style="color:#f1fa8c">&#39;bar&#39;</span>], <span style="color:#f1fa8c">&#39;lval&#39;</span>: [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>]})
</span></span><span style="display:flex;"><span>right <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>DataFrame({<span style="color:#f1fa8c">&#39;key&#39;</span>: [<span style="color:#f1fa8c">&#39;foo&#39;</span>, <span style="color:#f1fa8c">&#39;bar&#39;</span>, <span style="color:#f1fa8c">&#34;etc&#34;</span>], <span style="color:#f1fa8c">&#39;rval&#39;</span>: [<span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>, <span style="color:#bd93f9">6</span>]})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(pd<span style="color:#ff79c6">.</span>merge(left, right, on<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;key&#34;</span>, how<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;left&#34;</span>))
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p><code>group_by</code></p>
<p>return (group, df_in_group)</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>DataFrame(
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;A&#34;</span>: [<span style="color:#f1fa8c">&#34;foo&#34;</span>, <span style="color:#f1fa8c">&#34;bar&#34;</span>, <span style="color:#f1fa8c">&#34;foo&#34;</span>, <span style="color:#f1fa8c">&#34;bar&#34;</span>, <span style="color:#f1fa8c">&#34;foo&#34;</span>, <span style="color:#f1fa8c">&#34;bar&#34;</span>, <span style="color:#f1fa8c">&#34;foo&#34;</span>, <span style="color:#f1fa8c">&#34;foo&#34;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;B&#34;</span>: [<span style="color:#f1fa8c">&#34;one&#34;</span>, <span style="color:#f1fa8c">&#34;one&#34;</span>, <span style="color:#f1fa8c">&#34;two&#34;</span>, <span style="color:#f1fa8c">&#34;three&#34;</span>, <span style="color:#f1fa8c">&#34;two&#34;</span>, <span style="color:#f1fa8c">&#34;two&#34;</span>, <span style="color:#f1fa8c">&#34;one&#34;</span>, <span style="color:#f1fa8c">&#34;three&#34;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;C&#34;</span>: np<span style="color:#ff79c6">.</span>random<span style="color:#ff79c6">.</span>randn(<span style="color:#bd93f9">8</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;D&#34;</span>: np<span style="color:#ff79c6">.</span>random<span style="color:#ff79c6">.</span>randn(<span style="color:#bd93f9">8</span>),
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(df<span style="color:#ff79c6">.</span>groupby(<span style="color:#f1fa8c">&#34;A&#34;</span>)<span style="color:#ff79c6">.</span>sum())
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="其他">其他</h3>
<h4 id="dropna"><code>dropna</code></h4>
<p><code>df.dropna()</code> 删除掉空值</p>
<h4 id="cut"><code>cut</code></h4>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>DataFrame({<span style="color:#bd93f9">0</span>:[i <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">in</span> <span style="color:#8be9fd;font-style:italic">range</span>(<span style="color:#bd93f9">100</span>)]})
</span></span><span style="display:flex;"><span>cutted <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>cut(df[<span style="color:#bd93f9">0</span>], bins<span style="color:#ff79c6">=</span>[<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">50</span>, <span style="color:#bd93f9">101</span>])
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(cutted)
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="value-counts"><code>value_counts</code></h4>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(cutted<span style="color:#ff79c6">.</span>value_counts())
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="透视表">透视表</h4>
<!--list-separator-->
<ul>
<li>
<p><code>pivot_table</code></p>
<p>有四个最重要的参数 index、values、aggfunc</p>
 <!--list-separator-->
<ul>
<li>
<p>index</p>
<p>针对不同的索引构建透视表</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#ff79c6">.</span>pivot_table(df,index<span style="color:#ff79c6">=</span>[<span style="color:#f1fa8c">&#39;a&#39;</span>, <span style="color:#f1fa8c">&#39;b&#39;</span>])
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>values</p>
<p>values 可以对需要的计算数据进行筛选</p>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>aggfunc</p>
<p>aggfunc 参数可以设置我们对数据聚合时进行的函数操作，默认是 mean</p>
</li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p><code>pivot</code></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#ff79c6">.</span>pivot(index<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;row as&#34;</span>, columns<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;column as&#34;</span>, value<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;show what value&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h4 id="stack"><code>stack</code></h4>
<p>将一个 multiIndex 的多列变成一个更加 multiIndex 的一列</p>
<p><code>unstack</code> 是相反的过程</p>
<h2 id="stats-models">stats-models</h2>
<p>可以视作 stata 的替代品，也有部分机器学习算法（目前机器学习最流行的框架是 pytorch ）</p>
<p>文档：<a href="https://www.statsmodels.org/stable/gettingstarted.html">https://www.statsmodels.org/stable/gettingstarted.html</a></p>
<h3 id="回归">回归</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#ff79c6">=</span> sm<span style="color:#ff79c6">.</span>datasets<span style="color:#ff79c6">.</span>get_rdataset(<span style="color:#f1fa8c">&#34;Guerry&#34;</span>, <span style="color:#f1fa8c">&#34;HistData&#34;</span>)<span style="color:#ff79c6">.</span>data <span style="color:#6272a4"># data loader, use pandas</span>
</span></span><span style="display:flex;"><span>x <span style="color:#ff79c6">=</span> df[[<span style="color:#f1fa8c">&#39;Literacy&#39;</span>, <span style="color:#f1fa8c">&#39;Wealth&#39;</span>]]
</span></span><span style="display:flex;"><span>y <span style="color:#ff79c6">=</span> df[<span style="color:#f1fa8c">&#39;Lottery&#39;</span>]
</span></span><span style="display:flex;"><span>model <span style="color:#ff79c6">=</span> sm<span style="color:#ff79c6">.</span>OLS(y, x)
</span></span><span style="display:flex;"><span>result <span style="color:#ff79c6">=</span> model<span style="color:#ff79c6">.</span>fit()
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(result<span style="color:#ff79c6">.</span>summary())
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># print(result.summary().as_latex())</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="获得参数">获得参数</h4>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(result<span style="color:#ff79c6">.</span>params)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(result<span style="color:#ff79c6">.</span>rsquared)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">print</span>(result<span style="color:#ff79c6">.</span>pvalue)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="formula">formula</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ff79c6">import</span> statsmodels.formula.api <span style="color:#ff79c6">as</span> smf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>smf<span style="color:#ff79c6">.</span>ols(formula<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;A~B+np.log(C)-1&#34;</span>, data<span style="color:#ff79c6">=</span>df)<span style="color:#ff79c6">.</span>fit()<span style="color:#ff79c6">.</span>summary()
</span></span></code></pre></td></tr></table>
</div>
</div><p>支持 R 风格的公式</p>
<ul>
<li>\~ 代表 \=</li>
<li>
<ul>
<li>明晰不要某个变量：-1代表无截距项</li>
</ul>
</li>
<li>: 代表两个的交互项</li>
<li>* 代表两个的交互项，此外还有他们两个单独的项</li>
<li>可以使用 np 的函数等</li>
</ul>
<h3 id="其他">其他</h3>
<p><a href="https://www.statsmodels.org/stable/examples/notebooks/generated/ordinal%5Fregression.html?highlight=logistic">https://www.statsmodels.org/stable/examples/notebooks/generated/ordinal%5Fregression.html?highlight=logistic</a></p>
<h2 id="matplotlib">matplotlib</h2>
<p><a href="https://matplotlib.org/stable/tutorials/index">https://matplotlib.org/stable/tutorials/index</a></p>
<p>基础的作图，对标 Matlab</p>
<h3 id="中文">中文</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>rcParams[<span style="color:#f1fa8c">&#39;font.sans-serif&#39;</span>]<span style="color:#ff79c6">=</span>[<span style="color:#f1fa8c">&#39;SimHei&#39;</span>] <span style="color:#6272a4">#用来正常显示中文标签</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>rcParams[<span style="color:#f1fa8c">&#39;axes.unicode_minus&#39;</span>]<span style="color:#ff79c6">=</span><span style="color:#ff79c6">False</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>&lt;&gt;</p>
<h3 id="example">example</h3>
<p>pyplot 是 matplotlib 暴露给我们的接口，可以用 plt.plot 作图</p>
<p>教程：<a href="https://matplotlib.org/stable/tutorials/introductory/pyplot.html">https://matplotlib.org/stable/tutorials/introductory/pyplot.html</a></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ff79c6">import</span> matplotlib.pyplot <span style="color:#ff79c6">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> numpy <span style="color:#ff79c6">as</span> np
</span></span><span style="display:flex;"><span>x <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>linspace(<span style="color:#ff79c6">-</span><span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">5</span>,<span style="color:#bd93f9">100</span>)
</span></span><span style="display:flex;"><span>y <span style="color:#ff79c6">=</span> np<span style="color:#ff79c6">.</span>sin(x)
</span></span><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>plot(x,y)
</span></span><span style="display:flex;"><span>filename<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;plts/example.png&#34;</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>title(<span style="color:#f1fa8c">&#34;example&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>xlabel(<span style="color:#f1fa8c">&#34;X&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>savefig(filename)
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">return</span> filename
</span></span></code></pre></td></tr></table>
</div>
</div><figure><img src="/ox-hugo/example.png"/>
</figure>

<h4 id="具体">具体</h4>
<table>
<thead>
<tr>
<th>折线图</th>
<th>直方图</th>
<th>散点图</th>
<th>饼图</th>
</tr>
</thead>
<tbody>
<tr>
<td>plot</td>
<td>bar</td>
<td>scatter</td>
<td>pie</td>
</tr>
</tbody>
</table>
<h2 id="seaborn">seaborn</h2>
<p>seaborn 是封装了 matplotlib 的又一层接口，相较 matplotlib 默认更美观</p>
<p>教程：<a href="https://seaborn.pydata.org/tutorial.html">https://seaborn.pydata.org/tutorial.html</a></p>
<h3 id="matplotlib-use-seaborn-style">matplotlib use seaborn style</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#ff79c6">.</span>style<span style="color:#ff79c6">.</span>use(<span style="color:#f1fa8c">&#34;seaborn&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># or</span>
</span></span><span style="display:flex;"><span>sns<span style="color:#ff79c6">.</span>set()
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="relplot"><code>relplot</code></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sns<span style="color:#ff79c6">.</span>relplot(x<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;something&#34;</span>,
</span></span><span style="display:flex;"><span>            y<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;something else&#34;</span>,
</span></span><span style="display:flex;"><span>            data<span style="color:#ff79c6">=</span>df,
</span></span><span style="display:flex;"><span>            kind<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;scatter, line, and so on&#34;</span>,
</span></span><span style="display:flex;"><span>            size<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;something that decides scatter size/ line width&#34;</span>,
</span></span><span style="display:flex;"><span>            hue<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;something that decides scatter/line color&#34;</span>,
</span></span><span style="display:flex;"><span>            style<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;something that decides scatter/line style&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ff79c6">import</span> seaborn <span style="color:#ff79c6">as</span> sns
</span></span><span style="display:flex;"><span>cars <span style="color:#ff79c6">=</span> sns<span style="color:#ff79c6">.</span>load_dataset(<span style="color:#f1fa8c">&#39;mpg&#39;</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#ff79c6">.</span>relplot(x<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;weight&#39;</span>,
</span></span><span style="display:flex;"><span>            y<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;horsepower&#39;</span>,
</span></span><span style="display:flex;"><span>            col<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;origin&#34;</span>,
</span></span><span style="display:flex;"><span>            data<span style="color:#ff79c6">=</span>cars,
</span></span><span style="display:flex;"><span>            hue<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;origin&#39;</span>,
</span></span><span style="display:flex;"><span>            style<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;origin&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><figure><img src="/ox-hugo/cbe7f0b2b9bc5222986766ebf1c36d120931a42f.png"/>
</figure>

<h3 id="cheatsheet">cheatsheet</h3>
<p><a href="https://github.com/ErnestDong/seaborn/blob/master/SB%20Tut.ipynb">cheat sheet</a></p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/notes">Notes</a></li>
         
          <li><a href="/posts">Posts</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/readme/index.html">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#get-start">Get Start</a></li>
    <li><a href="#numpy">numpy</a>
      <ul>
        <li><a href="#numpy-基础数据类型">numpy 基础数据类型</a></li>
        <li><a href="#索引与变形">索引与变形</a></li>
        <li><a href="#运算">运算</a></li>
      </ul>
    </li>
    <li><a href="#pandas">pandas</a>
      <ul>
        <li><a href="#对象">对象</a></li>
        <li><a href="#其他">其他</a></li>
      </ul>
    </li>
    <li><a href="#stats-models">stats-models</a>
      <ul>
        <li><a href="#回归">回归</a></li>
        <li><a href="#formula">formula</a></li>
        <li><a href="#其他">其他</a></li>
      </ul>
    </li>
    <li><a href="#matplotlib">matplotlib</a>
      <ul>
        <li><a href="#中文">中文</a></li>
        <li><a href="#example">example</a></li>
      </ul>
    </li>
    <li><a href="#seaborn">seaborn</a>
      <ul>
        <li><a href="#matplotlib-use-seaborn-style">matplotlib use seaborn style</a></li>
        <li><a href="#relplot"><code>relplot</code></a></li>
        <li><a href="#cheatsheet">cheatsheet</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&text=python%20and%20mathematics" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&is_video=false&description=python%20and%20mathematics" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=python%20and%20mathematics&body=Check out this article: https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&title=python%20and%20mathematics" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&name=python%20and%20mathematics&description=Get%20Start%20Concentrate%20on%20python%20and%20math%201%20%28pyvenv-activate%20%26%2334%3b~%2fCode%2fthesis%2f.venv%2f%26%2334%3b%29%201%202%203%204%205%206%20import%20pandas%20as%20pd%20import%20numpy%20as%20np%20import%20matplotlib.pyplot%20as%20plt%20import%20seaborn%20as%20sns%20import%20statsmodels.api%20as%20sm%20import%20statsmodels.formula.api%20as%20smf%20numpy%20numpy%20%e6%98%af%e5%ba%95%e5%b1%82%e4%b8%ba%20C%20%e7%9a%84%e5%90%91%e9%87%8f%e8%ae%a1%e7%ae%97%e5%ba%93%ef%bc%8c%e6%98%af%20python%20%e7%a7%91%e5%ad%a6%e8%ae%a1%e7%ae%97%e7%9a%84%e5%9f%ba%e7%9f%b3%ef%bc%8c%e5%bf%ab%e9%80%9f%e3%80%81%e8%b4%b4%e8%bf%91%e5%ba%95" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fernestdong.github.io%2fposts%2fpython_and_mathematics%2f&t=python%20and%20mathematics" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  Ernest Dong 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/notes">Notes</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/readme/index.html">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
